<style>
    #carrello {
        position: fixed;
        height: 60px;
        width: 100px;
        border-radius: 20px 0 0 20px;
        /* center */
        display: flex;
        justify-content: center;
        align-items: center;
        /**********/
        bottom: 100px;
        right: 0;
        background-color: rgb(232, 232, 232);
        z-index: 600000;
        transition: transform 0.2s linear;
        transform-origin: right;
    }

    #carrello span {
        position: absolute;
        top: 1px;
        right: 20px;
        height: 25px;
        width: 25px;
        background-color: green;
        color: white;
        padding: 4px;
        border-radius: 50%;
        z-index: 1;
        /* center */
        display: flex;
        justify-content: center;
        align-items: center;
        /**********/
    }

    #carrello img {
        position: absolute;
        height: 40px;
        padding: 5px;
    }

    #carrello:hover {
        transform: scale(1.1);
    }
</style>
<!--
<button onclick="carrello_show_number(-1)">Remove</button>
<button onclick="carrello_show_number(1)">Add</button>
-->
<a id="carrello" href="#">
    <span></span>
    <img alt="Carrello" src="img/carrello.png">
</a>


<script>
    let number_show = document.getElementById("carrello").getElementsByTagName("span")[0];

    function carrello_set_number(number) {
        if (number === 0) {
            number_show.style.display = "none";
        } else {
            number_show.style.display = "flex";
        }
        number_show.innerHTML = number;
    }

    let xhr = new XMLHttpRequest();
    xhr.open('GET', "retrieve-cart", true);
    xhr.onreadystatechange = function () {
        if (this.readyState === 4 && this.status === 200) {
            let json = JSON.parse(this.response);
            carrello_set_number(json["elements"]);
        }
    }
    xhr.send();
</script>